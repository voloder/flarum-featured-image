(()=>{var t={649:function(){(function(){var t=[].slice;String.prototype.autoLink=function(){var e,r,o,a,n,u;return n=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,0<(a=1<=arguments.length?t.call(arguments,0):[]).length?(o=a[0],r=function(){var t;for(e in t=[],o)u=o[e],"callback"!==e&&t.push(" "+e+"='"+u+"'");return t}().join(""),this.replace(n,(function(t,e,a){return""+e+(("function"==typeof o.callback?o.callback(a):void 0)||"<a href='"+a+"'"+r+">"+a+"</a>")}))):this.replace(n,"$1<a href='$2'>$2</a>")}}).call(this)}},e={};function r(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,r),n.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=flarum.core.compat["forum/app"];var e=r.n(t);const o=flarum.core.compat["common/extend"];r(649);const a=flarum.core.compat["forum/components/UserCard"];var n=r.n(a);const u=flarum.core.compat["common/models/User"];var c=r.n(u);const i=flarum.core.compat["common/Model"];var p=r.n(i);function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}const s=flarum.core.compat["common/Component"];var f=function(t){function r(){return t.apply(this,arguments)||this}var o,a;a=t,(o=r).prototype=Object.create(a.prototype),o.prototype.constructor=o,l(o,a);var n=r.prototype;return n.view=function(){return m("button",{className:"Button",type:"button",name:"add-featured-image",onclick:this.uploadButtonClicked.bind(this)},m("span",{className:"Button-label"},"Select Featured Image..."),m("form",{style:"display: none;"},m("input",{type:"file",multiple:!1,onchange:this.uploadImage.bind(this)})))},n.uploadButtonClicked=function(t){this.$("input").click()},n.uploadImage=function(){var t=this,r=new FormData;r.append("featuredImage",this.$("input").prop("files")[0]),e().request({url:e().forum.attribute("apiUrl")+"/featured-image/upload",method:"POST",body:r}).then((function(e){t.attrs.user.save({featuredImage:e.data[0].attributes.url}).then((function(){m.redraw()}))}))},r}(r.n(s)());e().initializers.add("flarum-featured-image",(function(){c().prototype.featuredImage=p().attribute("featuredImage"),(0,o.extend)(n().prototype,"view",(function(t){var e=this.attrs.user;e.featuredImage&&(t.attrs.style="background-image: url("+e.featuredImage()+");")})),(0,o.extend)(n().prototype,"infoItems",(function(t){t.add("add-featured-image",m(f,null," "),-100)}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map